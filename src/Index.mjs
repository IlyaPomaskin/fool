// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as UseWs from "./hooks/UseWs.mjs";
import * as Utils from "./Utils.mjs";
import * as React from "react";
import * as GameUI from "./components/GameUI.mjs";
import * as LobbyUI from "./components/LobbyUI.mjs";
import * as ClientUI from "./components/ClientUI.mjs";
import * as PlayerUI from "./components/PlayerUI.mjs";
import * as Belt_Option from "rescript/lib/es6/belt_Option.js";

function Index$Client(Props) {
  var playerId = Props.playerId;
  var match = UseWs.hook(playerId);
  var sendMessage = match.sendMessage;
  var handleMove = match.handleMove;
  var error = match.error;
  var inProgress = match.inProgress;
  var player = match.player;
  return React.createElement("div", undefined, React.createElement("div", undefined, player !== undefined ? React.createElement(PlayerUI.Short.make, {
                        player: player
                      }) : React.createElement("div", undefined)), React.createElement("div", undefined, error !== undefined ? React.createElement("div", undefined, Utils.uiStr("server error: " + error)) : React.createElement("div", undefined, Utils.uiStr("no server error"))), React.createElement(LobbyUI.make, {
                  game: match.inLobby,
                  onLobbyMessage: Curry.__1(sendMessage),
                  playerId: playerId
                }), inProgress !== undefined ? React.createElement("div", undefined, React.createElement(GameUI.InProgressUI.make, {
                        game: inProgress
                      }), React.createElement("div", {
                        className: "flex flex-wrap"
                      }, Utils.uiList(inProgress.players, (function (player) {
                              return React.createElement(ClientUI.make, {
                                          className: "m-1 flex-initial w-96",
                                          player: player,
                                          isOwner: player.id === playerId,
                                          game: inProgress,
                                          onMove: Curry._1(handleMove, inProgress),
                                          key: player.id
                                        });
                            }))), React.createElement("div", undefined, Utils.uiStr(Belt_Option.getWithDefault(Belt_Option.map(error, (function (err) {
                                      return "Error: " + err;
                                    })), "No errors")))) : React.createElement("div", undefined));
}

function $$default(param) {
  return React.createElement("div", undefined, React.createElement("div", {
                  className: "my-2 w-1/2 inline-block border rounded-md border-solid border-slate-500"
                }, React.createElement(Index$Client, {
                      playerId: "alice"
                    })), React.createElement("div", {
                  className: "my-2 w-1/2 inline-block border rounded-md border-solid border-slate-500"
                }, React.createElement(Index$Client, {
                      playerId: "bob"
                    })));
}

export {
  $$default ,
  $$default as default,
  
}
/* UseWs Not a pure module */
